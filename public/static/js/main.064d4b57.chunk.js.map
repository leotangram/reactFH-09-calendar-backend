{"version":3,"sources":["types/types.js","reducers/authReducer.js","reducers/calendarReducer.js","reducers/uiReducer.js","reducers/rootReducer.js","store/store.js","helpers/fetch.js","helpers/prepareEvents.js","actions/events.js","actions/auth.js","hooks/useForm.js","components/auth/LoginSreen.js","helpers/calendar-messages-es.js","actions/ui.js","components/ui/Navbar.js","components/calendar/CalendarEvent.js","components/calendar/CalendarModal.js","components/ui/AddNewFab.js","components/ui/DeleteEventFab.js","components/calendar/CalendarScreen.js","router/PrivateRoute.js","router/PublicRoute.js","router/AppRouter.js","App.js","serviceWorker.js","index.js"],"names":["types","uiOpenModal","uiCloseModal","eventSetActive","eventLogout","eventStartNew","eventAddNew","eventClearActiveEvent","eventUpdated","eventDeleted","eventLoaded","authChecking","authCheckingFinish","authStartLogin","authLogin","authStartRegister","authStartTokenRenew","authLogout","initialState","checking","events","activeEvent","openModal","rootReducer","combineReducers","ui","state","action","type","calendar","payload","map","event","id","filter","auth","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","thunk","baseUrl","process","fetchNoToken","endpoint","data","method","url","fetch","headers","body","JSON","stringify","fetchWithToken","token","localStorage","getItem","prepareEvents","end","moment","toDate","start","eventClearActiveNote","eventUpdates","startLogout","dispatch","clear","logout","login","user","checkingFinish","useForm","initialStateForm","useState","formValues","setFormValues","reset","handleInputChange","target","name","value","LoginSreen","useDispatch","lEmail","lPassword","formLoginValues","handleLoginInputChange","sName","sEmail","sPassword","sConfirmPassword","formSignupValues","handleSignupInputChange","className","onSubmit","e","email","password","preventDefault","a","response","json","ok","uid","message","setItem","Date","getTime","Swal","fire","console","log","placeholder","onChange","messages","allDay","previous","next","today","month","week","day","agenda","date","time","noEventsInRange","showMore","total","Navbar","useSelector","onClick","CalendarEvent","title","customStyles","content","top","left","right","bottom","marginRight","transform","Modal","setAppElement","now","minutes","seconds","add","nowPlus1","clone","initEvent","notes","CalendarModal","props","dateStart","setDateStart","dateEnd","setDateEnd","titleValid","setTitleValid","setformValues","useEffect","closeModal","closeTimeoutMS","isOpen","onRequestClose","overlayClassName","style","momentStart","momentEnd","isSameOrAfter","trim","length","getState","_id","eventStartAddNew","minDate","autoComplete","rows","AddNewFab","DeleteEventFab","localizer","momentLocalizer","CalendarScreen","lastView","setLastView","components","endAccesor","eventPropGetter","isSelected","backgroundColor","borderRadius","opacity","display","color","onDoubleClickEvent","onSelectEvent","onSelectSlot","selectable","onView","view","startAccesor","PrivateRoute","isAuthenticated","Component","component","rest","to","PublicRoute","AppRouter","exact","path","App","Boolean","location","hostname","match","ReactDOM","render","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister","catch","error"],"mappings":"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","file":"static/js/main.064d4b57.chunk.js","sourcesContent":["export const types = {\n  uiOpenModal: '[ui] Open modal',\n  uiCloseModal: '[ui] Close modal',\n\n  eventSetActive: '[event] Set active',\n  eventLogout: '[event] Logout event',\n  eventStartNew: '[event] Start add new',\n  eventAddNew: '[event] Add new',\n  eventClearActiveEvent: '[event] Clear active event',\n  eventUpdated: '[event] Event updated',\n  eventDeleted: '[event] Event deleted',\n  eventLoaded: '[event] Events loaded',\n\n  authChecking: '[auth] Checking login state',\n  authCheckingFinish: '[auth] Finish checking login state',\n  authStartLogin: '[auth] Start login',\n  authLogin: '[auth] Login',\n  authStartRegister: '[auth] Start register',\n  authStartTokenRenew: '[auth] Start token renew',\n  authLogout: '[auth] Logout'\n}\n","import { types } from '../types/types'\n\nconst initialState = {\n  checking: true\n  // uid: null,\n  // name: null\n}\n\nexport const authReducer = (state = initialState, action) => {\n  switch (action.type) {\n    case types.authLogin:\n      return {\n        ...state,\n        checking: false,\n        ...action.payload\n      }\n    case types.authCheckingFinish:\n      return {\n        ...state,\n        checking: false\n      }\n    case types.authLogout:\n      return {\n        checking: false\n      }\n\n    default:\n      return state\n  }\n}\n","import { types } from '../types/types'\n\n// {\n//   id: new Date().getTime(),\n//   title: 'Cumpleaños del jefe',\n//   start: moment().toDate(),\n//   end: moment().add(2, 'hours').toDate(),\n//   notes: 'Comprar el pastel',\n//   user: {\n//     _id: '123',\n//     name: 'Leonardo'\n//   }\n// }\n\nconst initialState = {\n  events: [],\n  activeEvent: null\n}\n\nexport const calendarReducer = (state = initialState, action) => {\n  switch (action.type) {\n    case types.eventSetActive:\n      return {\n        ...state,\n        activeEvent: action.payload\n      }\n    case types.eventAddNew:\n      return {\n        ...state,\n        events: [...state.events, action.payload]\n      }\n    case types.eventClearActiveEvent:\n      return {\n        ...state,\n        activeEvent: null\n      }\n    case types.eventUpdated:\n      return {\n        ...state,\n        events: state.events.map(event =>\n          event.id === action.payload.id ? action.payload : event\n        )\n      }\n    case types.eventDeleted:\n      return {\n        ...state,\n        events: state.events.filter(event => event.id !== state.activeEvent.id),\n        activeEvent: null\n      }\n    case types.eventLoaded:\n      return {\n        ...state,\n        events: [...action.payload]\n      }\n    case types.eventLogout:\n      return { ...initialState }\n\n    default:\n      return state\n  }\n}\n","import { types } from '../types/types'\n\nconst initialState = {\n  openModal: false\n}\n\nexport const uiReducer = (state = initialState, action) => {\n  switch (action.type) {\n    case types.uiOpenModal:\n      return {\n        ...state,\n        openModal: true\n      }\n    case types.uiCloseModal:\n      return {\n        ...state,\n        openModal: false\n      }\n\n    default:\n      return state\n  }\n}\n","import { combineReducers } from 'redux'\nimport { authReducer } from './authReducer'\nimport { calendarReducer } from './calendarReducer'\nimport { uiReducer } from './uiReducer'\n\nexport const rootReducer = combineReducers({\n  ui: uiReducer,\n  calendar: calendarReducer,\n  auth: authReducer\n  // TODO: CalendarReducer,\n})\n","import { createStore, compose, applyMiddleware } from 'redux'\nimport { rootReducer } from '../reducers/rootReducer'\nimport thunk from 'redux-thunk'\n\nconst composeEnhancers =\n  (typeof window !== 'undefined' &&\n    window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__) ||\n  compose\n\nexport const store = createStore(\n  rootReducer,\n  composeEnhancers(applyMiddleware(thunk))\n)\n","const baseUrl = process.env.REACT_APP_API_URL\n\nexport const fetchNoToken = (endpoint, data, method = 'GET') => {\n  const url = `${baseUrl}/${endpoint}`\n  if (method === 'GET') {\n    return fetch(url)\n  } else {\n    return fetch(url, {\n      method,\n      headers: {\n        'Content-type': 'application/json'\n      },\n      body: JSON.stringify(data)\n    })\n  }\n}\n\nexport const fetchWithToken = (endpoint, data, method = 'GET') => {\n  const url = `${baseUrl}/${endpoint}`\n  const token = localStorage.getItem('token') || ''\n  if (method === 'GET') {\n    return fetch(url, {\n      method,\n      headers: {\n        'x-token': token\n      }\n    })\n  } else {\n    return fetch(url, {\n      method,\n      headers: {\n        'Content-type': 'application/json',\n        'x-token': token\n      },\n      body: JSON.stringify(data)\n    })\n  }\n}\n","import moment from 'moment'\n\nexport const prepareEvents = (events = []) => {\n  return events.map(event => ({\n    ...event,\n    end: moment(event.end).toDate(),\n    start: moment(event.start).toDate()\n  }))\n}\n","import Swal from 'sweetalert2'\nimport { fetchWithToken } from '../helpers/fetch'\nimport { prepareEvents } from '../helpers/prepareEvents'\nimport { types } from '../types/types'\n\nexport const eventStartAddNew = event => {\n  return async (dispatch, getState) => {\n    const { uid, name } = getState().auth\n    try {\n      const response = await fetchWithToken('events', event, 'POST')\n      const body = await response.json()\n      if (body.ok) {\n        event.id = body.event.id\n        event.user = {\n          _id: uid,\n          name\n        }\n        dispatch(eventAddNew(event))\n      }\n    } catch (error) {\n      console.log(error)\n    }\n  }\n}\n\nexport const eventStartLoading = () => {\n  return async dispatch => {\n    try {\n      const response = await fetchWithToken('events')\n      const body = await response.json()\n      const events = prepareEvents(body.events)\n      dispatch(eventLoaded(events))\n    } catch (error) {\n      console.log(error)\n    }\n  }\n}\n\nconst eventAddNew = event => ({\n  type: types.eventAddNew,\n  payload: event\n})\n\nexport const eventSetActive = event => ({\n  type: types.eventSetActive,\n  payload: event\n})\n\nexport const eventClearActiveNote = () => ({\n  type: types.eventClearActiveEvent\n})\n\nexport const eventStartUpdate = event => {\n  return async dispatch => {\n    try {\n      const response = await fetchWithToken(`events/${event.id}`, event, 'PUT')\n      const body = await response.json()\n      if (body.ok) {\n        dispatch(eventUpdated(event))\n      } else {\n        Swal.fire('Error', body.message, 'error')\n      }\n    } catch (error) {\n      console.log(error)\n    }\n  }\n}\n\nconst eventUpdated = event => ({\n  type: types.eventUpdates,\n  payload: event\n})\n\nexport const eventStartDelete = () => {\n  return async (dispatch, getState) => {\n    const { id } = getState().calendar.activeEvent\n    try {\n      const response = await fetchWithToken(`events/${id}`, {}, 'DELETE')\n      const body = await response.json()\n      if (body.ok) {\n        dispatch(eventDeleted())\n      } else {\n        Swal.fire('Error', body.message, 'error')\n      }\n    } catch (error) {\n      console.log(error)\n    }\n  }\n}\n\nconst eventDeleted = () => ({\n  type: types.eventDeleted\n})\n\nconst eventLoaded = events => ({\n  type: types.eventLoaded,\n  payload: events\n})\n\nexport const eventLogout = () => ({\n  type: types.eventLogout\n})\n","import Swal from 'sweetalert2'\nimport { fetchNoToken, fetchWithToken } from '../helpers/fetch'\nimport { types } from '../types/types'\nimport { eventLogout } from './events'\n\nexport const startLogin = (email, password) => {\n  return async dispatch => {\n    try {\n      const response = await fetchNoToken('auth', { email, password }, 'POST')\n      const { name, ok, token, uid, message } = await response.json()\n\n      if (ok) {\n        localStorage.setItem('token', token)\n        localStorage.setItem('token-init-date', new Date().getTime())\n        dispatch(login({ uid, name }))\n      } else {\n        Swal.fire('Error', message, 'error')\n      }\n    } catch (error) {\n      console.log(error)\n    }\n  }\n}\n\nexport const startRegister = (email, password, name) => {\n  return async dispatch => {\n    try {\n      const response = await fetchNoToken(\n        'auth/new',\n        { email, password, name },\n        'POST'\n      )\n      const body = await response.json()\n\n      if (body.ok) {\n        localStorage.setItem('token', body.token)\n        localStorage.setItem('token-init-date', new Date().getTime())\n        dispatch(login({ uid: body.uid, name: body.name }))\n      } else {\n        Swal.fire('Error', body.message, 'error')\n      }\n    } catch (error) {\n      console.log(error)\n    }\n  }\n}\n\nexport const startChecking = () => {\n  return async dispatch => {\n    try {\n      const response = await fetchWithToken('auth/renew')\n      const body = await response.json()\n\n      if (body.ok) {\n        localStorage.setItem('token', body.token)\n        localStorage.setItem('token-init-date', new Date().getTime())\n        dispatch(login({ uid: body.uid, name: body.name }))\n      } else {\n        dispatch(checkingFinish())\n      }\n    } catch (error) {\n      console.log(error)\n    }\n  }\n}\n\nexport const startLogout = () => {\n  return dispatch => {\n    localStorage.clear()\n    dispatch(eventLogout())\n    dispatch(logout())\n  }\n}\n\nconst login = user => ({\n  type: types.authLogin,\n  payload: user\n})\n\nconst checkingFinish = () => ({\n  type: types.authCheckingFinish\n})\n\nconst logout = () => ({\n  type: types.authLogout\n})\n","import { useState } from 'react'\n\nexport const useForm = (initialStateForm = {}) => {\n  const [formValues, setFormValues] = useState(initialStateForm)\n\n  const reset = () => {\n    setFormValues(initialStateForm)\n  }\n\n  const handleInputChange = ({ target }) => {\n    setFormValues({\n      ...formValues,\n      [target.name]: target.value\n    })\n  }\n\n  return [formValues, handleInputChange, reset]\n}\n","import React from 'react'\nimport { useDispatch } from 'react-redux'\nimport Swal from 'sweetalert2'\nimport { startLogin, startRegister } from '../../actions/auth'\nimport { useForm } from '../../hooks/useForm'\nimport './login.css'\n\nconst LoginSreen = () => {\n  const dispatch = useDispatch()\n\n  const [formLoginValues, handleLoginInputChange] = useForm({\n    lEmail: 'leonardo@gmail.com',\n    lPassword: '123456'\n  })\n  const { lEmail, lPassword } = formLoginValues\n\n  const [formSignupValues, handleSignupInputChange] = useForm({\n    sName: 'Leo',\n    sEmail: 'leo@gmail.com',\n    sPassword: '123456',\n    sConfirmPassword: '123456'\n  })\n  const { sName, sEmail, sPassword, sConfirmPassword } = formSignupValues\n\n  const handleLogin = e => {\n    e.preventDefault()\n    dispatch(startLogin(lEmail, lPassword))\n  }\n\n  const handleRegister = e => {\n    e.preventDefault()\n    if (sPassword !== sConfirmPassword) {\n      return Swal.fire('Error', 'Las contraseñas deben ser iguales', 'error')\n    }\n    dispatch(startRegister(sEmail, sPassword, sName))\n  }\n\n  return (\n    <div className=\"container login-container\">\n      <div className=\"row\">\n        <div className=\"col-md-6 login-form-1\">\n          <h3>Ingreso</h3>\n          <form onSubmit={handleLogin}>\n            <div className=\"form-group\">\n              <input\n                type=\"text\"\n                className=\"form-control\"\n                placeholder=\"Correo\"\n                name=\"lEmail\"\n                value={lEmail}\n                onChange={handleLoginInputChange}\n              />\n            </div>\n            <div className=\"form-group\">\n              <input\n                type=\"password\"\n                className=\"form-control\"\n                placeholder=\"Contraseña\"\n                name=\"lPassword\"\n                value={lPassword}\n                onChange={handleLoginInputChange}\n              />\n            </div>\n            <div className=\"form-group\">\n              <input type=\"submit\" className=\"btnSubmit\" value=\"Login\" />\n            </div>\n          </form>\n        </div>\n\n        <div className=\"col-md-6 login-form-2\">\n          <h3>Registro</h3>\n          <form onSubmit={handleRegister}>\n            <div className=\"form-group\">\n              <input\n                type=\"text\"\n                className=\"form-control\"\n                placeholder=\"Nombre\"\n                name=\"sName\"\n                value={sName}\n                onChange={handleSignupInputChange}\n              />\n            </div>\n            <div className=\"form-group\">\n              <input\n                type=\"email\"\n                className=\"form-control\"\n                placeholder=\"Correo\"\n                name=\"sEmail\"\n                value={sEmail}\n                onChange={handleSignupInputChange}\n              />\n            </div>\n            <div className=\"form-group\">\n              <input\n                type=\"password\"\n                className=\"form-control\"\n                placeholder=\"Contraseña\"\n                name=\"sPassword\"\n                value={sPassword}\n                onChange={handleSignupInputChange}\n              />\n            </div>\n\n            <div className=\"form-group\">\n              <input\n                type=\"password\"\n                className=\"form-control\"\n                placeholder=\"Repita la contraseña\"\n                name=\"sConfirmPassword\"\n                value={sConfirmPassword}\n                onChange={handleSignupInputChange}\n              />\n            </div>\n\n            <div className=\"form-group\">\n              <input type=\"submit\" className=\"btnSubmit\" value=\"Crear cuenta\" />\n            </div>\n          </form>\n        </div>\n      </div>\n    </div>\n  )\n}\n\nexport default LoginSreen\n","export const messages = {\n  allDay: 'Todo el día',\n  previous: '<',\n  next: '>',\n  today: 'Hoy',\n  month: 'Mes',\n  week: 'Semana',\n  day: 'Día',\n  agenda: 'Agenda',\n  date: 'Fecha',\n  time: 'Hora',\n  event: 'Evento',\n  noEventsInRange: 'No hay eventos en este rango',\n  showMore: total => `+ Ver más (${total})`\n}\n","import { types } from '../types/types'\n\nexport const uiOpenModal = () => ({\n  type: types.uiOpenModal\n})\n\nexport const uiCloseModal = () => ({\n  type: types.uiCloseModal\n})\n","import React from 'react'\nimport { useDispatch, useSelector } from 'react-redux'\nimport { startLogout } from '../../actions/auth'\n\nconst Navbar = () => {\n  const dispatch = useDispatch()\n  const { name } = useSelector(state => state.auth)\n\n  const handleLogout = () => {\n    dispatch(startLogout())\n  }\n\n  return (\n    <div className=\"navbar navbar-dark bg-dark mb-4\">\n      <span className=\"navbar-brand\">{name}</span>\n      <button className=\"btn btn-outline-danger\" onClick={handleLogout}>\n        <i className=\"fas fa-sign-out-alt\" />\n        <span> Salir</span>\n      </button>\n    </div>\n  )\n}\n\nexport default Navbar\n","import React from 'react'\nimport PropTypes from 'prop-types'\n\nconst CalendarEvent = ({ event }) => {\n  const {\n    title,\n    user: { name }\n  } = event\n  return (\n    <div>\n      <strong>{title}</strong>\n      <span> - {name}</span>\n    </div>\n  )\n}\n\nCalendarEvent.propTypes = {\n  event: PropTypes.object.isRequired\n}\n\nexport default CalendarEvent\n","import React, { useEffect, useState } from 'react'\nimport moment from 'moment'\nimport Modal from 'react-modal'\nimport DateTimePicker from 'react-datetime-picker'\nimport Swal from 'sweetalert2'\nimport { useDispatch, useSelector } from 'react-redux'\n\nimport { uiCloseModal } from '../../actions/ui'\nimport {\n  eventClearActiveNote,\n  eventStartAddNew,\n  eventStartUpdate\n} from '../../actions/events'\n\nconst customStyles = {\n  content: {\n    top: '50%',\n    left: '50%',\n    right: 'auto',\n    bottom: 'auto',\n    marginRight: '-50%',\n    transform: 'translate(-50%, -50%)'\n  }\n}\n\nModal.setAppElement('#root')\n\nconst now = moment().minutes(0).seconds(0).add(1, 'hours')\nconst nowPlus1 = now.clone().add(1, 'hours')\n\nconst initEvent = {\n  title: '',\n  notes: '',\n  start: now.toDate(),\n  end: nowPlus1.toDate()\n}\n\nconst CalendarModal = props => {\n  const dispatch = useDispatch()\n  const { openModal } = useSelector(state => state.ui)\n  const { activeEvent } = useSelector(state => state.calendar)\n\n  const [dateStart, setDateStart] = useState(now.toDate())\n  const [dateEnd, setDateEnd] = useState(nowPlus1.toDate())\n  const [titleValid, setTitleValid] = useState(true)\n  const [formValues, setformValues] = useState(initEvent)\n\n  const { title, notes, start, end } = formValues\n\n  useEffect(() => {\n    if (activeEvent) {\n      setformValues(activeEvent)\n    } else {\n      setformValues(initEvent)\n    }\n  }, [activeEvent])\n\n  const handleInputChange = ({ target }) => {\n    setformValues({\n      ...formValues,\n      [target.name]: target.value\n    })\n  }\n\n  const closeModal = () => {\n    dispatch(uiCloseModal())\n    dispatch(eventClearActiveNote())\n    setformValues(initEvent)\n  }\n\n  const handleStartDateChange = e => {\n    setDateStart(e)\n    setformValues({ ...formValues, start: e })\n  }\n\n  const handleEndDateChange = e => {\n    setDateEnd(e)\n    setformValues({ ...formValues, end: e })\n  }\n\n  const handleSubmitForm = e => {\n    e.preventDefault()\n    const momentStart = moment(start)\n    const momentEnd = moment(end)\n\n    if (momentStart.isSameOrAfter(momentEnd)) {\n      Swal.fire(\n        'Error',\n        'La fecha fin debe ser mayor a la fecha inicio',\n        'error'\n      )\n      return\n    }\n\n    if (title.trim().length < 2) {\n      setTitleValid(false)\n      return\n    }\n\n    if (activeEvent) {\n      dispatch(eventStartUpdate(formValues))\n    } else {\n      dispatch(eventStartAddNew(formValues))\n    }\n\n    setTitleValid(true)\n    closeModal()\n  }\n\n  return (\n    <Modal\n      className=\"modal\"\n      closeTimeoutMS={200}\n      isOpen={openModal}\n      onRequestClose={closeModal}\n      overlayClassName=\"modal-fondo\"\n      style={customStyles}\n    >\n      <h1> {!!activeEvent ? 'Editar evento' : 'Nuevo evento'} </h1>\n      <hr />\n      <form className=\"container\" onSubmit={handleSubmitForm}>\n        <div className=\"form-group\">\n          <label>Fecha y hora inicio</label>\n          <DateTimePicker\n            onChange={handleStartDateChange}\n            value={dateStart}\n            className=\"form-control\"\n          />\n        </div>\n\n        <div className=\"form-group\">\n          <label>Fecha y hora fin</label>\n          <DateTimePicker\n            onChange={handleEndDateChange}\n            value={dateEnd}\n            minDate={dateStart}\n            className=\"form-control\"\n          />\n        </div>\n\n        <hr />\n        <div className=\"form-group\">\n          <label>Titulo y notas</label>\n          <input\n            type=\"text\"\n            className={`form-control ${!titleValid && 'is-invalid'}`}\n            placeholder=\"Título del evento\"\n            name=\"title\"\n            autoComplete=\"off\"\n            value={title}\n            onChange={handleInputChange}\n          />\n          <small id=\"emailHelp\" className=\"form-text text-muted\">\n            Una descripción corta\n          </small>\n        </div>\n\n        <div className=\"form-group\">\n          <textarea\n            type=\"text\"\n            className=\"form-control\"\n            placeholder=\"Notas\"\n            rows=\"5\"\n            name=\"notes\"\n            value={notes}\n            onChange={handleInputChange}\n          ></textarea>\n          <small id=\"emailHelp\" className=\"form-text text-muted\">\n            Información adicional\n          </small>\n        </div>\n\n        <button type=\"submit\" className=\"btn btn-outline-primary btn-block\">\n          <i className=\"far fa-save\"></i>\n          <span> Guardar</span>\n        </button>\n      </form>\n    </Modal>\n  )\n}\n\nexport default CalendarModal\n","import React from 'react'\nimport { useDispatch } from 'react-redux'\nimport { uiOpenModal } from '../../actions/ui'\n\nconst AddNewFab = () => {\n  const dispatch = useDispatch()\n\n  const handleClickNew = () => {\n    dispatch(uiOpenModal())\n  }\n\n  return (\n    <button className=\"btn btn-primary fab\" onClick={handleClickNew}>\n      <i className=\"fas fa-plus\"></i>\n    </button>\n  )\n}\n\nexport default AddNewFab\n","import React from 'react'\nimport { useDispatch } from 'react-redux'\nimport { eventStartDelete } from '../../actions/events'\n\nconst DeleteEventFab = () => {\n  const dispatch = useDispatch()\n\n  const handleDelete = () => {\n    dispatch(eventStartDelete())\n  }\n\n  return (\n    <button className=\"btn btn-danger fab-danger\" onClick={handleDelete}>\n      <i className=\"fas fa-trash\"></i>\n      <span> Borrar event</span>\n    </button>\n  )\n}\n\nexport default DeleteEventFab\n","import React, { useState } from 'react'\nimport moment from 'moment'\nimport 'moment/locale/es'\nimport 'react-big-calendar/lib/css/react-big-calendar.css'\nimport { Calendar, momentLocalizer } from 'react-big-calendar'\nimport { useDispatch, useSelector } from 'react-redux'\n\nimport { messages } from '../../helpers/calendar-messages-es'\nimport { uiOpenModal } from '../../actions/ui'\nimport Navbar from '../ui/Navbar'\nimport CalendarEvent from './CalendarEvent'\nimport CalendarModal from './CalendarModal'\nimport {\n  eventClearActiveNote,\n  eventSetActive,\n  eventStartLoading\n} from '../../actions/events'\nimport AddNewFab from '../ui/AddNewFab'\nimport DeleteEventFab from '../ui/DeleteEventFab'\nimport { useEffect } from 'react'\n\nconst localizer = momentLocalizer(moment)\n\nconst CalendarScreen = () => {\n  const dispatch = useDispatch()\n  const { events, activeEvent } = useSelector(state => state.calendar)\n  const { uid } = useSelector(state => state.auth)\n\n  const [lastView, setLastView] = useState(\n    localStorage.getItem('lastView') || 'month'\n  )\n\n  useEffect(() => {\n    dispatch(eventStartLoading())\n  }, [dispatch])\n\n  const onDoubleClick = e => {\n    console.log('onDoubleClick: ', e)\n    dispatch(uiOpenModal())\n  }\n\n  const onSelectEvent = e => {\n    dispatch(eventSetActive(e))\n  }\n\n  const onViewChange = e => {\n    localStorage.setItem('lastView', e)\n    setLastView(e)\n  }\n\n  const eventStyleGetter = (event, start, end, isSelected) => {\n    console.log(event)\n    const style = {\n      backgroundColor: uid === event.user._id ? '#367cf7' : '#465660',\n      borderRadius: '0px',\n      opacity: 0.8,\n      display: 'block',\n      color: '#ffffff'\n    }\n    return { style }\n  }\n\n  const onSelectSlot = e => {\n    console.log(e)\n    dispatch(eventClearActiveNote())\n  }\n\n  return (\n    <div className=\"calendar-screen\">\n      <Navbar />\n      <Calendar\n        components={{ event: CalendarEvent }}\n        endAccesor=\"end\"\n        eventPropGetter={eventStyleGetter}\n        events={events}\n        localizer={localizer}\n        messages={messages}\n        onDoubleClickEvent={onDoubleClick}\n        onSelectEvent={onSelectEvent}\n        onSelectSlot={onSelectSlot}\n        selectable={true}\n        onView={onViewChange}\n        view={lastView}\n        startAccesor=\"start\"\n      />\n      <AddNewFab />\n      {!!activeEvent && <DeleteEventFab />}\n      <CalendarModal />\n    </div>\n  )\n}\n\nexport default CalendarScreen\n","import React from 'react'\nimport PropTypes from 'prop-types'\nimport { Route, Redirect } from 'react-router-dom'\n\nconst PrivateRoute = ({ isAuthenticated, component: Component, ...rest }) => {\n  return (\n    <Route\n      {...rest}\n      component={props =>\n        isAuthenticated ? <Component {...props} /> : <Redirect to=\"/login\" />\n      }\n    />\n  )\n}\n\nPrivateRoute.propTypes = {\n  isAuthenticated: PropTypes.bool.isRequired,\n  component: PropTypes.func.isRequired\n}\n\nexport default PrivateRoute\n","import React from 'react'\nimport PropTypes from 'prop-types'\nimport { Route, Redirect } from 'react-router-dom'\n\nconst PublicRoute = ({ isAuthenticated, component: Component, ...rest }) => {\n  return (\n    <Route\n      {...rest}\n      component={props =>\n        isAuthenticated ? <Redirect to=\"/\" /> : <Component {...props} />\n      }\n    />\n  )\n}\n\nPublicRoute.propTypes = {\n  isAuthenticated: PropTypes.bool.isRequired,\n  component: PropTypes.func.isRequired\n}\n\nexport default PublicRoute\n","import React from 'react'\nimport { useEffect } from 'react'\nimport { useDispatch, useSelector } from 'react-redux'\nimport { BrowserRouter as Router, Switch, Redirect } from 'react-router-dom'\nimport { startChecking } from '../actions/auth'\nimport LoginSreen from '../components/auth/LoginSreen'\nimport CalendarScreen from '../components/calendar/CalendarScreen'\nimport PrivateRoute from './PrivateRoute'\nimport PublicRoute from './PublicRoute'\n\nconst AppRouter = () => {\n  const dispatch = useDispatch()\n  const { checking, uid } = useSelector(state => state.auth)\n\n  useEffect(() => {\n    dispatch(startChecking())\n  }, [dispatch])\n\n  if (checking) {\n    return <h5>Espere...</h5>\n  }\n\n  return (\n    <Router>\n      <div>\n        <Switch>\n          <PublicRoute\n            exact\n            path=\"/login\"\n            component={LoginSreen}\n            isAuthenticated={!!uid}\n          />\n          <PrivateRoute\n            exact\n            path=\"/\"\n            component={CalendarScreen}\n            isAuthenticated={!!uid}\n          />\n          <Redirect to=\"/\" />\n        </Switch>\n      </div>\n    </Router>\n  )\n}\n\nexport default AppRouter\n","import React from 'react'\nimport { Provider } from 'react-redux'\nimport { store } from './store/store'\nimport AppRouter from './router/AppRouter'\n\nfunction App() {\n  return (\n    <Provider store={store}>\n      <AppRouter />\n    </Provider>\n  )\n}\n\nexport default App\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App'\nimport * as serviceWorker from './serviceWorker'\nimport './styles.css'\n\nReactDOM.render(<App />, document.getElementById('root'))\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister()\n"],"sourceRoot":""}